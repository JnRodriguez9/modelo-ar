<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Prueba Modelo 3D - Luz Mejorada</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; background-color: #000; }
      #loading {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-family: sans-serif;
        font-size: 1.2em;
      }
    </style>
  </head>

  <body>
    <div id="loading">Cargando modelo...</div>

    <a-scene
      background="color: #e0e0e0"
      renderer="colorManagement: true; physicallyCorrectLights: true;"
      embedded
      vr-mode-ui="enabled: false">

      <!-- üí° Luz ambiental muy fuerte -->
      <a-entity light="type: ambient; intensity: 2"></a-entity>

      <!-- üí° Luz direccional intensa desde arriba -->
      <a-entity light="type: directional; intensity: 3; castShadow: true" position="2 4 3"></a-entity>

      <!-- üí° Luz adicional desde el frente -->
      <a-entity light="type: point; intensity: 2; distance: 20" position="0 2 4"></a-entity>

      <!-- Modelo -->
      <a-entity
        id="modelo"
        gltf-model="url(https://jnrodriguez9.github.io/modelo-ar/navidad.glb)"
        position="0 -1.5 -4"
        rotation="0 180 0">
      </a-entity>

      <!-- C√°mara -->
      <a-entity camera look-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <script>
      const modelEntity = document.querySelector('#modelo');
      const loading = document.querySelector('#loading');

      modelEntity.addEventListener('model-loaded', () => {
        loading.style.display = 'none';
        console.log('‚úÖ Modelo cargado correctamente');

        const mesh = modelEntity.getObject3D('mesh');
        if (mesh) {
          // Escala m√°s peque√±a
          mesh.scale.set(0.01, 0.01, 0.01);
          mesh.position.set(0, -1.2, 0);
        }
      });
    </script>
  </body>
</html>
